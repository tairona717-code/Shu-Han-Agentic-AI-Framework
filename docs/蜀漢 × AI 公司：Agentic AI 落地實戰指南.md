# ğŸ“˜ èœ€æ¼¢ Ã— AI å…¬å¸ï¼šAgentic AI è½åœ°å¯¦æˆ°æŒ‡å—

**æ•´åˆã€Œèœ€æ¼¢æ²»ç†æ¡†æ¶ã€èˆ‡ã€ŒLLM Ã— SLM Ã— MCP Ã— n8nã€æŠ€è¡“æ¶æ§‹**

> **æœ¬æ–‡ç›®æ¨™**ï¼šè®“ä½ åœ¨ 30 åˆ†é˜å…§ç†è§£å¦‚ä½•å»ºç«‹ä¸€å€‹ã€Œæœ‰ç´€å¾‹ã€èƒ½è¡Œå‹•ã€å¯è¿½è¹¤ã€çš„ AI ä»£ç†ç³»çµ±ã€‚

---

## ä¸€ã€ç‚ºä»€éº¼ä½ éœ€è¦é€™ä»½æŒ‡å—ï¼Ÿ

| å•é¡Œ | å‚³çµ±åšæ³• | æ•´åˆå¾Œçš„è§£æ³• |
|------|---------|-------------|
| AI åªæœƒèªªï¼Œä¸æœƒåš | æ‰‹å‹•è¤‡è£½ AI å»ºè­°å»åŸ·è¡Œ | **n8n è‡ªå‹•åŒ–åŸ·è¡Œ**ï¼ŒAI ä¸‹ä»¤å°±å‹• |
| AI å®¹æ˜“å¹»è¦ºï¼ŒæŒ‡ä»¤æ¨¡ç³Š | ä¸€å¥è©±å« AI åšå®Œï¼Œç´°ç¯€é çŒœ | **è™ç¬¦åˆ¶åº¦**ï¼šçµæ§‹åŒ–æŒ‡ä»¤ + Pydantic é©—è­‰ |
| AI æ²’æœ‰è¨˜æ†¶ï¼ŒéŒ¯èª¤é‡è¤‡çŠ¯ | é–‹æ–°å°è©±å°±å¿˜è¨˜ | **å¤ªå²é™¢ï¼ˆå§œç¶­ï¼‰**ï¼šéŒ¯èª¤å…¥åº«ï¼ŒåŸ·è¡Œå‰è««è¨€ |
| ä¸çŸ¥é“ AI æ”¹äº†ä»€éº¼ | é»‘ç®±ä½œæ¥­ï¼Œç„¡æ³•å¯©è¨ˆ | **å¥æ‘ºå›å ±**ï¼šæ¯ä¸€ç­†æ›´å‹•éƒ½æœ‰æ“šå¯æŸ¥ |
| å·¥å…·ä¸²æ¥è¦å¯«ä¸€å † code | æ¯å€‹ API éƒ½è¦è‡ªå·±å¯« | **MCP æ¨™æº–å”è­°**ï¼šä¸€æ¬¡é–‹ç™¼ï¼Œéš¨è™•å‘¼å« |

---

## äºŒã€æ•´åˆæ¶æ§‹å…¨æ™¯åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ğŸ›ï¸ èœ€æ¼¢ AI åœ‹                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚ åŠ‰å‚™ (Human)â”‚ â”€â”€PRDâ”€â”€â–¶â”‚     è«¸è‘›äº® (LLM/CEO)    â”‚       â”‚
â”‚   â”‚  æœ€çµ‚æ±ºç­–è€…  â”‚â—€â”€å¯©æ‰¹â”€â”€â”€â”‚   ç­–ç•¥æ¨æ¼” / ä»»å‹™æ‹†è§£    â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                       â”‚                     â”‚
â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚                              â”‚  è™ç¬¦ (orders/) â”‚            â”‚
â”‚                              â”‚  çµæ§‹åŒ–è»ä»¤æ ¼å¼  â”‚            â”‚
â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚         â”‚                             â”‚                 â”‚   â”‚
â”‚         â–¼                             â–¼                 â–¼   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚   â”‚é—œç¾½ (SLM) â”‚               â”‚è¶™é›² (SLM) â”‚      â”‚å¼µé£›(SLM)â”‚â”‚
â”‚   â”‚ Backend   â”‚               â”‚ Frontend  â”‚      â”‚ Debug   â”‚â”‚
â”‚   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜â”‚
â”‚         â”‚                           â”‚                 â”‚     â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                     â”‚                                       â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚              â”‚     MCP     â”‚ â—€â”€â”€ æ¨™æº–åŒ–å·¥å…·é€£æ¥å”è­°          â”‚
â”‚              â”‚  ç¥ç¶“ç³»çµ±    â”‚                                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                     â”‚                                       â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚    â–¼                â–¼                â–¼                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚ â”‚ DB   â”‚      â”‚ API/SaaS â”‚     â”‚ æœ¬åœ°æª”æ¡ˆ  â”‚                 â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                     â”‚                                       â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚              â”‚    n8n     â”‚ â—€â”€â”€ è‡ªå‹•åŒ–å·¥ä½œæµç¨‹å¼•æ“           â”‚
â”‚              â”‚  è¡Œå‹•å·¥å»    â”‚                                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                     â”‚                                       â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚         â–¼                       â–¼                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚   â”‚ å¥æ‘ºå›å ±   â”‚          â”‚ Human å¯©æ‰¹  â”‚ â—€â”€â”€ n8n é€šçŸ¥ç¯€é»   â”‚
â”‚   â”‚ reports/  â”‚          â”‚ (Slack/LINE)â”‚                    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚         â”‚                                                   â”‚
â”‚         â–¼                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚   â”‚   å§œç¶­ / å¤ªå²é™¢ (Memory) â”‚                               â”‚
â”‚   â”‚  mistakes/ patterns/    â”‚                               â”‚
â”‚   â”‚  â€» ä¸‹æ¬¡åŸ·è¡Œå‰ä¸»å‹•è««è¨€   â”‚                               â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸‰ã€è§’è‰²å°ç…§è¡¨ï¼šèœ€æ¼¢ Ã— AI å…¬å¸

| èœ€æ¼¢è§’è‰² | AI å…¬å¸æ¯”å–» | æŠ€è¡“å¯¦ä½œ | è·è²¬ |
|---------|------------|---------|------|
| **åŠ‰å‚™** | Owner / è‘£äº‹é•· | Human | å®šæ–¹å‘ã€æœ€çµ‚å¯©æ‰¹ã€æ”¹æ†²ç«  |
| **è«¸è‘›äº®** | CEO | LLM (GPT-4/Claude) | ç­–ç•¥æ¨æ¼”ã€ä»»å‹™æ‹†è§£ã€ç™¼å¸ƒè™ç¬¦ |
| **é—œç¾½** | å¾Œç«¯éƒ¨é–€ä¸»ç®¡ | SLM (Phi-3/Mistral) | é«˜é »åŸ·è¡Œå¾Œç«¯å¯¦ä½œ |
| **è¶™é›²** | å‰ç«¯éƒ¨é–€ä¸»ç®¡ | SLM | é«˜é »åŸ·è¡Œ UI/UX |
| **å¼µé£›** | QA ä¸»ç®¡ | SLM | é™¤éŒ¯ã€å£“åŠ›æ¸¬è©¦ |
| **é¦¬è¶…** | å¯¦é©—å®¤ä¸»ç®¡ | SLM + MCP | å·¥å…·æ•´åˆã€MCP Server é–‹ç™¼ |
| **å§œç¶­** | çŸ¥è­˜é•· / å²å®˜ | Memory System | éŒ¯èª¤ç´€éŒ„ã€æ¨¡å¼æç…‰ã€ä¸»å‹•è««è¨€ |
| **è™ç¬¦** | æ­£å¼å·¥å–® | Pydantic Schema | çµæ§‹åŒ–æŒ‡ä»¤ï¼Œæœçµ•å¹»è¦º |
| **å¥æ‘º** | åŸ·è¡Œå ±å‘Š | JSON/Markdown | å¯è¿½è¹¤ã€å¯å¯©è¨ˆ |
| **MCP** | ç¥ç¶“ç³»çµ± | Model Context Protocol | æ¨™æº–åŒ–å·¥å…·é€£æ¥ |
| **n8n** | è‡ªå‹•åŒ–å·¥å»  | Workflow Engine | è®“ AI çœŸæ­£ã€Œå‹•èµ·ä¾†ã€ |

---

## å››ã€æ ¸å¿ƒæ©Ÿåˆ¶è©³è§£

### 4.1 è™ç¬¦ï¼ˆTiger Tallyï¼‰â€”â€” çµæ§‹åŒ–æŒ‡ä»¤

**å•é¡Œ**ï¼šè‡ªç„¶èªè¨€æŒ‡ä»¤æœ‰æ­§ç¾©ï¼ŒAI æœƒçŒœæ¸¬ï¼ŒçŒœæ¸¬æ˜¯ç½é›£çš„é–‹å§‹ã€‚

**è§£æ³•**ï¼šè™ç¬¦æ˜¯ Agent **å”¯ä¸€èƒ½æ¥å—çš„æ­£å¼æŒ‡ä»¤æ ¼å¼**ã€‚

```yaml
# orders/ORD-SHU-20251218-01.md

TRACK_ID: SHU-20251218-01
FROM: è«¸è‘›äº®
TO: é—œç¾½

ğŸ¯ æˆ°ç•¥ç›®æ¨™ (Directive):
  - å¯¦ä½œã€Œåº«å­˜ä½æ–¼é–¾å€¼è‡ªå‹•è£œè²¨ã€API

ğŸ“œ ä¾æ“šæ–‡ä»¶ (Context):
  - specs/business/PRD-inventory.md
  - specs/system/SD-inventory-api.md

ğŸš§ ç¦ä»¤èˆ‡é‚Šç•Œ (Constraints):
  - ä¸å¾—ä¿®æ”¹ specs/ ç›®éŒ„
  - é ˆéµå®ˆ docs/hacker.md ç¬¬6ç¯€å®‰å…¨ç·¨ç¢¼è¦ç¯„
  - åƒæ•¸åŒ–æŸ¥è©¢ï¼Œç¦æ­¢å­—ä¸²æ‹¼æ¥ SQL

âœ… é©—æ”¶æ¨™æº– (Acceptance Criteria):
  - [ ] API å›å‚³ 200 + JSON Schema é©—è­‰é€šé
  - [ ] å–®å…ƒæ¸¬è©¦è¦†è“‹ç‡ > 80%
  - [ ] ç„¡ SQL Injection æ¼æ´

âš ï¸ å‡ç´šæ¢ä»¶ (Escalation):
  - é€£çºŒå¤±æ•— 2 æ¬¡ â†’ åœæ­¢ï¼Œå›å ±è«¸è‘›äº®
```

**æŠ€è¡“è½åœ°**ï¼šè™ç¬¦å¯è½‰æˆ Pydantic Schemaï¼Œè®“ LLM è¼¸å‡ºç¶“éå‹åˆ¥é©—è­‰ï¼š

```python
from pydantic import BaseModel, Field
from typing import List
from enum import Enum

class AgentRole(str, Enum):
    GUAN_YU = "é—œç¾½"
    ZHANG_FEI = "å¼µé£›"
    ZHAO_YUN = "è¶™é›²"
    MA_CHAO = "é¦¬è¶…"

class TigerTally(BaseModel):
    """è™ç¬¦ - èœ€æ¼¢è»ä»¤æ ¼å¼"""
    track_id: str = Field(..., pattern=r"^SHU-\d{8}-\d{2}$")
    from_role: str = "è«¸è‘›äº®"
    to_role: AgentRole
    directive: str = Field(..., min_length=10)
    context_docs: List[str]
    constraints: List[str]
    acceptance_criteria: List[str]
    max_retries: int = Field(default=2, ge=1, le=5)
```

---

### 4.2 MCPï¼ˆç¥ç¶“ç³»çµ±ï¼‰â€”â€” æ¨™æº–åŒ–å·¥å…·é€£æ¥

**å•é¡Œ**ï¼šä»¥å‰è®“ AI ä¸²æ¥ Google Driveã€Slackã€è³‡æ–™åº«ï¼Œæ¯å€‹éƒ½è¦å¯«ç‰¹å®šç¨‹å¼ç¢¼ã€‚

**è§£æ³•**ï¼šMCP æ˜¯ AI çš„ã€ŒUSB æ¥å£ã€ï¼Œç¬¦åˆå”è­°å°±èƒ½æ’ä¸Šå»ç”¨ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MCP æ¶æ§‹                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ Agent (SLM) â”‚ â”€â”€â”€â–¶ â”‚     MCP Client          â”‚  â”‚
â”‚   â”‚  (é—œç¾½)     â”‚      â”‚  (æ¨™æº–åŒ–å‘¼å«ä»‹é¢)        â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚                â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚                    â–¼               â–¼               â–¼â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            â”‚ MCP Server â”‚  â”‚ MCP Server â”‚  â”‚MCP Serverâ”‚
â”‚            â”‚ (Database) â”‚  â”‚  (Slack)   â”‚  â”‚ (GitHub) â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**èœ€æ¼¢æ•´åˆ**ï¼šé¦¬è¶…ï¼ˆLab Agentï¼‰è² è²¬é–‹ç™¼èˆ‡ç¶­è­· MCP Serverã€‚

---

### 4.3 n8nï¼ˆè¡Œå‹•å·¥å» ï¼‰â€”â€” è®“ AI çœŸæ­£å‹•èµ·ä¾†

**å•é¡Œ**ï¼šAI èƒ½è¦åŠƒï¼Œä½†ä¸èƒ½è¡Œå‹•ã€‚

**è§£æ³•**ï¼šn8n æ˜¯ AI çš„è‡ªå‹•åŒ–æµæ°´ç·šï¼ŒæŠŠã€Œèªªã€è®Šæˆã€Œåšã€ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    n8n Workflow ç¯„ä¾‹                          â”‚
â”‚              ã€Œåº«å­˜ä½æ–¼é–¾å€¼è‡ªå‹•è£œè²¨ã€                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ è§¸ç™¼å™¨  â”‚â”€â”€â”€â–¶â”‚ æŸ¥è©¢åº«å­˜DB â”‚â”€â”€â”€â–¶â”‚ åˆ¤æ–·é–¾å€¼    â”‚             â”‚
â”‚  â”‚(æ¯æ—¥9am)â”‚    â”‚ (MCP Call) â”‚    â”‚ (SLM æ±ºç­–)  â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                         â”‚                    â”‚
â”‚                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                            â–¼                         â–¼       â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                    â”‚ åº«å­˜æ­£å¸¸     â”‚          â”‚ åº«å­˜ä¸è¶³    â”‚  â”‚
â”‚                    â”‚ â†’ è¨˜éŒ„ Log   â”‚          â”‚ â†’ ç”¢ç”Ÿè£œè²¨å–®â”‚  â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚        â”‚
â”‚                                              â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                                              â”‚ Human å¯©æ‰¹  â”‚ â”‚
â”‚                                              â”‚ (Slacké€šçŸ¥) â”‚ â”‚
â”‚                                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                     â”‚        â”‚
â”‚                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”    â”‚
â”‚                                    â–¼                    â–¼    â”‚
â”‚                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                            â”‚ æ‰¹å‡†       â”‚       â”‚ é§å›     â”‚ â”‚
â”‚                            â”‚ â†’ å‘¼å«ERP  â”‚       â”‚ â†’ è¨˜éŒ„   â”‚ â”‚
â”‚                            â”‚ â†’ ç™¼æ¡è³¼å–® â”‚       â”‚   åŸå›    â”‚ â”‚
â”‚                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                         â”‚
â”‚                            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚                            â”‚ å¥æ‘ºå›å ±      â”‚                 â”‚
â”‚                            â”‚ â†’ reports/   â”‚                 â”‚
â”‚                            â”‚ â†’ å§œç¶­ç´€éŒ„   â”‚                 â”‚
â”‚                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é—œéµè¨­è¨ˆï¼šHuman-in-the-loop**

n8n çš„ã€ŒHuman å¯©æ‰¹ç¯€é»ã€å°æ‡‰èœ€æ¼¢çš„ã€ŒåŠ‰å‚™æœ€çµ‚æ±ºç­–ã€ï¼š
- AI æ“¬å®šæ–¹æ¡ˆ â†’ n8n ç™¼é€ Slack/LINE é€šçŸ¥
- **äººé¡é»æ“Šã€ŒApproveã€** â†’ n8n æ‰åŸ·è¡Œ
- é€™è®“ AI æ“æœ‰è¡Œå‹•åŠ›ï¼Œäººé¡ä¿æœ‰æ§åˆ¶æ¬Š

---

### 4.4 å§œç¶­è««è¨€æ©Ÿåˆ¶ â€”â€” è¨˜æ†¶é©…å‹•çš„é¢¨éšªé è­¦

**å•é¡Œ**ï¼šAI æ²’æœ‰è¨˜æ†¶ï¼ŒåŒæ¨£çš„éŒ¯ä¸€çŠ¯å†çŠ¯ã€‚

**è§£æ³•**ï¼šå§œç¶­åœ¨åŸ·è¡Œå‰ä¸»å‹•æŸ¥å²ï¼Œç™¼ç¾é¡ä¼¼å¤±æ•—æ¨¡å¼å°±é è­¦ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å§œç¶­è««è¨€æµç¨‹                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚ è«¸è‘›äº®ç™¼å¸ƒè™ç¬¦â”‚                                          â”‚
â”‚  â”‚ ORD-SHU-xxx  â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚          â”‚                                                 â”‚
â”‚          â–¼                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ å§œç¶­ï¼šæŸ¥è©¢ memory/mistakes/           â”‚                  â”‚
â”‚  â”‚ é—œéµå­—: åº«å­˜, è£œè²¨, API, SQL          â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚          â”‚                                                 â”‚
â”‚          â–¼                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ ç™¼ç¾ï¼šMST-20251210-åº«å­˜API-SQLæ³¨å…¥.md â”‚                  â”‚
â”‚  â”‚ ä¸Šæ¬¡å› ç‚ºå­—ä¸²æ‹¼æ¥å°è‡´ SQL Injection    â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚          â”‚                                                 â”‚
â”‚          â–¼                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ âš ï¸ è««è¨€ WARNING:                     â”‚                  â”‚
â”‚  â”‚ ã€Œä¸ç›¸ï¼Œæ­¤ä»»å‹™èˆ‡ MST-20251210 ç›¸ä¼¼ï¼Œ  â”‚                  â”‚
â”‚  â”‚   ä¸Šæ¬¡å› å­—ä¸²æ‹¼æ¥å°è‡´æ³¨å…¥æ¼æ´ã€‚        â”‚                  â”‚
â”‚  â”‚   å»ºè­°ï¼šå¼·åˆ¶ä½¿ç”¨åƒæ•¸åŒ–æŸ¥è©¢ã€‚ã€        â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚          â”‚                                                 â”‚
â”‚          â–¼                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ è«¸è‘›äº®ï¼šæ›´æ–°è™ç¬¦ Constraints          â”‚                  â”‚
â”‚  â”‚ + ã€Œé ˆåƒè€ƒ MST-20251210 é¿å…é‡è¹ˆè¦†è½ã€â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äº”ã€è½åœ°å¯¦ä½œæ­¥é©Ÿ

### Step 1: å»ºç«‹ç›®éŒ„çµæ§‹ï¼ˆ5 åˆ†é˜ï¼‰

```bash
your-project/
â”œâ”€â”€ agents/                    # è¤‡è£½èœ€æ¼¢æ ¸å¿ƒ
â”‚   â”œâ”€â”€ AGENTS_v5.1.md         # æ²»ç†æ¶æ§‹
â”‚   â”œâ”€â”€ ALLSPARK_ShuHan_v1.md  # è»ç´€æ†²ç« 
â”‚   â””â”€â”€ data_tracks_ShuHan_v1.md # é€šè¨Šå”å®š
â”œâ”€â”€ specs/
â”‚   â”œâ”€â”€ business/              # PRDï¼ˆåŠ‰å‚™çš„é¡˜æ™¯ï¼‰
â”‚   â””â”€â”€ system/                # SA/SDï¼ˆè«¸è‘›äº®çš„è¨­è¨ˆï¼‰
â”œâ”€â”€ orders/                    # è™ç¬¦
â”œâ”€â”€ reports/                   # å¥æ‘º
â”œâ”€â”€ memory/
â”‚   â”œâ”€â”€ mistakes/              # è¸©é›·è¨˜éŒ„
â”‚   â””â”€â”€ patterns/              # æˆåŠŸæ¨¡å¼
â”œâ”€â”€ code/                      # é—œç¾½é§åœ°
â”œâ”€â”€ design/                    # è¶™é›²é§åœ°
â”œâ”€â”€ debug/                     # å¼µé£›é§åœ°
â”œâ”€â”€ sandbox/                   # é¦¬è¶…é§åœ°ï¼ˆMCP Server å¯¦é©—ï¼‰
â””â”€â”€ docs/
    â””â”€â”€ hacker.md              # è³‡å®‰è¦ç¯„
```

---

### Step 2: ä»»å‘½è«¸è‘›äº®ï¼ˆ10 åˆ†é˜ï¼‰

å°‡ `agents/AGENTS_v5.1.md` è²¼çµ¦ä½ çš„ LLM ä½œç‚º System Promptï¼š

```
ä½ æ˜¯è«¸è‘›äº®ï¼Œèœ€æ¼¢æ™ºæ…§ç³»çµ±çš„ä¸ç›¸ã€‚

ä½ çš„è·è²¬ï¼š
1. æ¥æ”¶åŠ‰å‚™ï¼ˆäººé¡ï¼‰çš„éœ€æ±‚
2. è½‰åŒ–ç‚º PRD â†’ SA â†’ SD
3. ç™¼å¸ƒè™ç¬¦ï¼ˆorders/ï¼‰çµ¦äº”è™å°‡
4. åŸ·è¡Œå‰å…ˆè«®è©¢å§œç¶­ï¼ˆæŸ¥ memory/mistakes/ï¼‰

ä½ çš„é™åˆ¶ï¼š
- ä¸ç›´æ¥å¯« code
- æ‰€æœ‰æŒ‡ä»¤å¿…é ˆç”¨è™ç¬¦æ ¼å¼
- éµå®ˆ ALLSPARK_ShuHan_v1.md è»ç´€æ†²ç« 
```

---

### Step 3: é…ç½® MCP Serverï¼ˆ30 åˆ†é˜ï¼‰

ç”±é¦¬è¶…è² è²¬ï¼Œåœ¨ `sandbox/` å»ºç«‹å¸¸ç”¨ MCP Serverï¼š

```python
# sandbox/mcp_servers/database_server.py
"""
MCP Server: Database Operations
ç¬¦åˆ MCP å”è­°çš„è³‡æ–™åº«æ“ä½œæœå‹™
"""

from mcp import MCPServer, Tool

server = MCPServer("database")

@server.tool()
def query_inventory(product_id: str) -> dict:
    """æŸ¥è©¢åº«å­˜"""
    # åƒæ•¸åŒ–æŸ¥è©¢ï¼Œéµå®ˆ hacker.md
    cursor.execute(
        "SELECT * FROM inventory WHERE product_id = ?",
        (product_id,)
    )
    return cursor.fetchone()

@server.tool()  
def create_purchase_order(product_id: str, quantity: int) -> dict:
    """å»ºç«‹æ¡è³¼å–®ï¼ˆéœ€ Human å¯©æ‰¹ï¼‰"""
    order_id = generate_order_id()
    # æ¨™è¨˜ç‚º pending_approval
    return {"order_id": order_id, "status": "pending_human_approval"}
```

---

### Step 4: å»ºç«‹ n8n Workflowï¼ˆ30 åˆ†é˜ï¼‰

åœ¨ n8n ä¸­å»ºç«‹è‡ªå‹•åŒ–æµç¨‹ï¼š

1. **è§¸ç™¼å™¨**ï¼šWebhook / å®šæ™‚ / äº‹ä»¶é©…å‹•
2. **MCP å‘¼å«ç¯€é»**ï¼šé€é HTTP Request å‘¼å« MCP Server
3. **SLM æ±ºç­–ç¯€é»**ï¼šå‘¼å«è¼•é‡æ¨¡å‹åšåˆ¤æ–·
4. **Human å¯©æ‰¹ç¯€é»**ï¼šSlack/LINE é€šçŸ¥ + ç­‰å¾…å›æ‡‰
5. **åŸ·è¡Œç¯€é»**ï¼šå¯¦éš›å‘¼å« ERP/CRM API
6. **å¥æ‘ºç¯€é»**ï¼šå¯«å…¥ `reports/` + é€šçŸ¥å§œç¶­

---

### Step 5: ç¬¬ä¸€å€‹è™ç¬¦ï¼ˆ10 åˆ†é˜ï¼‰

```markdown
# orders/ORD-SHU-20251218-01.md

TRACK_ID: SHU-20251218-01
FROM: è«¸è‘›äº®
TO: é—œç¾½

ğŸ¯ æˆ°ç•¥ç›®æ¨™:
  å¯¦ä½œã€ŒæŸ¥è©¢åº«å­˜ã€MCP Server Tool

ğŸ“œ ä¾æ“šæ–‡ä»¶:
  - specs/system/SD-inventory-mcp.md

ğŸš§ ç¦ä»¤èˆ‡é‚Šç•Œ:
  - åƒæ•¸åŒ–æŸ¥è©¢
  - é ˆé€šé hacker.md å®‰å…¨æª¢æŸ¥æ¸…å–®

âœ… é©—æ”¶æ¨™æº–:
  - [ ] MCP Tool è¨»å†ŠæˆåŠŸ
  - [ ] å›å‚³ JSON Schema é©—è­‰é€šé
  - [ ] ç„¡ SQL Injection æ¼æ´

âš ï¸ å‡ç´šæ¢ä»¶:
  - å¤±æ•— 2 æ¬¡ â†’ å›å ±è«¸è‘›äº®
```

---

## å…­ã€ç¸½çµï¼šå¾èŠå¤©æ©Ÿå™¨äººåˆ° AI å…¬å¸

| å±¤æ¬¡ | èœ€æ¼¢æ¡†æ¶æä¾› | æŠ€è¡“æ¶æ§‹æä¾› | æ•´åˆåƒ¹å€¼ |
|------|------------|-------------|---------|
| **æ²»ç†** | è™ç¬¦ã€å¥æ‘ºã€è»ç´€æ†²ç«  | â€” | æœ‰ç´€å¾‹çš„æŒ‡ä»¤èˆ‡å›å ± |
| **æ€è€ƒ** | è«¸è‘›äº®ï¼ˆç­–ç•¥æ ¸å¿ƒï¼‰ | LLM (GPT-4/Claude) | æŠ½è±¡æ¨ç†ã€ä»»å‹™æ‹†è§£ |
| **åŸ·è¡Œ** | äº”è™å°‡ï¼ˆå°ˆæ¥­åˆ†å·¥ï¼‰ | SLM (Phi-3/Mistral) | é«˜é »ã€ä½æˆæœ¬ã€å¯ä¸¦è¡Œ |
| **é€£æ¥** | å°šæ›¸å°ï¼ˆå·¥å…·å‘¼å«ï¼‰ | MCP | æ¨™æº–åŒ–å¤–éƒ¨è³‡æºå­˜å– |
| **è¡Œå‹•** | â€” | n8n | çœŸæ­£æŠŠäº‹åšå®Œ |
| **è¨˜æ†¶** | å§œç¶­ / å¤ªå²é™¢ | Memory System | éŒ¯èª¤ä¸é‡çŠ¯ |
| **æ§åˆ¶** | åŠ‰å‚™ï¼ˆæœ€çµ‚æ±ºç­–ï¼‰ | Human-in-the-loop | äººé¡ä¿æœ‰æ§åˆ¶æ¬Š |

---

> **ã€ŒAI ä¸æ˜¯ä¸€é¡†è…¦ï¼Œè€Œæ˜¯ä¸€å€‹çµ„ç¹”ã€‚  
> ä¸æ˜¯ä¸€å€‹å·¥å…·ï¼Œè€Œæ˜¯ä¸€é–“å…¬å¸ã€‚  
> ä¸æ˜¯ä¸€å€‹äººå·¥ä½œï¼Œè€Œæ˜¯ä¸€å€‹åœ‹å®¶åœ¨é‹ä½œã€‚ã€**
>
> èœ€æ¼¢æ¡†æ¶çµ¦ä½ ç´€å¾‹èˆ‡åˆ¶åº¦ï¼Œ  
> MCP + n8n çµ¦ä½ æ‰‹è…³èˆ‡è¡Œå‹•åŠ›ã€‚  
> å…©è€…çµåˆï¼Œæ‰æ˜¯çœŸæ­£èƒ½è½åœ°çš„ Agentic AIã€‚
>
> **åŒ—ä¼å‡ºå¾ï¼Œä»¤å‡ºå¿…è¡Œã€‚**

---

## é™„éŒ„ï¼šç›¸é—œæ–‡ä»¶ç´¢å¼•

- [AGENTS_v5.1.md](../agents/AGENTS_v5.1.md) - èœ€æ¼¢æ²»ç†æ¶æ§‹æ ¸å¿ƒ
- [ALLSPARK_ShuHan_v1.md](../agents/ALLSPARK_ShuHan_v1.md) - è»ç´€æ†²ç« 
- [data_tracks_ShuHan_v1.md](../agents/data_tracks_ShuHan_v1.md) - é€šè¨Šå”å®š
- [hacker.md](./hacker.md) - è³‡å®‰è¦ç¯„
- [architecture/overview.md](./architecture/overview.md) - æ¶æ§‹ç¸½è¦½

---

*æœ¬æ–‡æ•´åˆè‡ªã€ŒAI ä»£ç†äººçš„æ“ä½œç³»çµ±ã€ç³»åˆ—æ–‡ç« èˆ‡èœ€æ¼¢ Multi-Agent Framework*
